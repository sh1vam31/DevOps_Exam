// pipeline{
//     agent any
//     tools{
//         maven 'maven'
//     }
//     stages{
//         stage('CheckOut'){
//             steps{
//                 git url:"https://github.com/sh1vam31/DevOps_Exam.git",branch:'main'
//             }
//         }
//         stage('install'){
//             steps{
//                 // sh 'mvn clean package'
//                 sh 'npm install'
//             }
//         }
//         stage('test'){
//             steps{
//                 // sh 'mvn test'
//                 sh 'npm test || echo "No tests defined"'
//             }
//         }
//         stage('Build'){
//             steps{
//                 // sh 'npm test || echo "No tests defined"'
//                 sh 'npm run build'
//             }
//         }
//     }
// }



pipeline {
    agent any

    tools {
        maven 'maven' 
    }

    stages {
        stage('CheckOut') {
            steps {
                git url: "https://github.com/sh1vam31/DevOps_Exam.git", branch: 'main'
            }
        }
        stage('Install Dependencies') {
            steps {
                sh 'node -v'   // Verify Node.js version
                sh 'npm -v'    // Verify npm version
                sh 'npm install'
            }
        }
        stage('Test') {
            steps {
                sh 'npm test || echo "No tests defined"'
            }
        }
        stage('Build') {
            steps {
                sh 'npm run build'
            }
        }
    }
}